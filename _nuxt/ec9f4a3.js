(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{296:function(e,t,r){var content=r(308);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(19).default)("2a51be03",content,!0,{sourceMap:!1})},297:function(e,t,r){var content=r(311);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(19).default)("7dbc0c50",content,!0,{sourceMap:!1})},307:function(e,t,r){"use strict";r(296)},308:function(e,t,r){(t=r(18)(!1)).push([e.i,".upload-container[data-v-75981ae4]{width:100%;text-align:center;height:150px;border:3px dashed #ccc;position:relative;border-radius:8px;margin:8px 0;transition:all .25s ease}.upload-container.fileuploaded[data-v-75981ae4]{border-color:#ddd}.upload-container.isOnDrop[data-v-75981ae4]{transform:scale(1.1);border-color:#666;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.3),0 22px 70px 4px rgba(0,0,0,.23),0 0 0 1px transparent}.upload-container .inner-container[data-v-75981ae4]{position:absolute;margin:auto;top:0;bottom:0;left:0;right:0;pointer-events:none;color:#a300eb;padding:10px;height:-webkit-max-content;height:-moz-max-content;height:max-content}.upload-container .inner-container img[data-v-75981ae4]{max-width:200px;max-height:100px;border-radius:8px;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.3),0 22px 70px 4px rgba(0,0,0,.23),0 0 0 1px transparent}.upload-container input[data-v-75981ae4]{z-index:1;height:100%;width:100%;opacity:0}",""]),e.exports=t},310:function(e,t,r){"use strict";r(297)},311:function(e,t,r){(t=r(18)(!1)).push([e.i,'.adjust-container[data-v-9d89f5d6]{display:flex}.adjust-container .left[data-v-9d89f5d6],.adjust-container .right[data-v-9d89f5d6]{padding:4px}.adjust-container .left h3[data-v-9d89f5d6],.adjust-container .right h3[data-v-9d89f5d6]{margin-bottom:8px}.adjust-container .left[data-v-9d89f5d6]{width:50%;flex:1}.adjust-container .left .watermark-preview[data-v-9d89f5d6]{position:relative;transition:all .2s ease}.adjust-container .left .watermark-preview img[data-v-9d89f5d6]{width:100%;margin-bottom:-8px}.adjust-container .left .watermark-preview.loading[data-v-9d89f5d6]{filter:blur(3px)}.adjust-container .left .watermark-preview .watermark-text-preview[data-v-9d89f5d6]{width:100%;height:100%;transform-origin:left top;position:absolute;top:0;left:0}.adjust-container .left .watermark-preview .watermark-text-preview.repeat[data-v-9d89f5d6]{background-repeat:repeat}.adjust-container .right[data-v-9d89f5d6]{width:50%;max-width:300px}.adjust-container .right .watermark-text[data-v-9d89f5d6]{background-image:linear-gradient(45deg,#efefef 25%,hsla(0,0%,93.7%,0) 0,hsla(0,0%,93.7%,0) 75%,#efefef 0,#efefef),linear-gradient(45deg,#efefef 25%,hsla(0,0%,93.7%,0) 0,hsla(0,0%,93.7%,0) 75%,#efefef 0,#efefef);background-color:#fff;background-position:0 0,10px 10px;background-size:21px 21px;background-repeat:repeat;overflow:hidden;height:100px;position:relative}.adjust-container .right .watermark-text pre[data-v-9d89f5d6]{display:inline-block;font-family:"Lato","Noto Sans TC",sans-serif}@media screen and (max-width:512px){.adjust-container[data-v-9d89f5d6]{flex-direction:column}.adjust-container .left[data-v-9d89f5d6],.adjust-container .right[data-v-9d89f5d6]{width:100%;max-width:100%}.adjust-container .left .watermark-preview[data-v-9d89f5d6]{display:inline-block}.adjust-container .left .watermark-preview img[data-v-9d89f5d6]{max-height:200px;width:auto}}',""]),e.exports=t},353:function(e,t,r){"use strict";r.r(t);r(35),r(14),r(142),r(78),r(79),r(294);var n={name:"file-upload",data:function(){return{filename:null,fileurl:null,isOnDrop:!1}},destroyed:function(){},created:function(){},methods:{getFiles:function(e){this.onDrop(!1);var t=e.target.files[0],r=t.name;r.endsWith(".jpg")||r.endsWith(".png")?(this.filename=r,this.fileurl=URL.createObjectURL(t),this.resizeImg(this.fileurl)):alert("不支援該檔案格式！")},onDrop:function(e){this.isOnDrop=e},resizeImg:function(e){var img=document.createElement("img"),t=this;img.src=e,img.onload=function(e){var canvas=document.createElement("canvas");canvas.getContext("2d").drawImage(img,0,0);var r=img.width,n=img.height;r>n?r>1500&&(n*=1500/r,r=1500):n>1500&&(r*=1500/n,n=1500),canvas.width=r,canvas.height=n,canvas.getContext("2d").drawImage(img,0,0,r,n),canvas.toBlob((function(e){var r=URL.createObjectURL(e);t.$emit("handleFileURL",r)}))}}}},o=(r(307),r(57)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"upload-container",class:{fileuploaded:e.fileurl,isOnDrop:e.isOnDrop},on:{dragover:function(t){return e.onDrop(!0)},drop:function(t){return e.onDrop(!1)},dragleave:function(t){return e.onDrop(!1)}}},[!e.filename||e.isOnDrop?r("div",{staticClass:"inner-container"},[e.isOnDrop?r("span",[e._v("將圖片拖移至此放開")]):r("span",[e._v("點擊此處匯入圖片或將圖片拖移至此")])]):r("div",{staticClass:"inner-container"},[e.fileurl?r("img",{attrs:{src:e.fileurl}}):e._e(),r("br"),e._v(" "),r("span",[e._v(e._s(e.filename))])]),e._v(" "),r("input",{attrs:{type:"file"},on:{change:function(t){return e.getFiles(t)}}})])}),[],!1,null,"75981ae4",null);t.default=component.exports},354:function(e,t,r){"use strict";r.r(t);r(14),r(78),r(79),r(294);var n=r(309),o=r.n(n),l={name:"style-adjust",data:function(){return{watermarkStyle:[],watermarkText:"僅供〇〇〇申辦使用",watermarkTextColor:"#000C",watermarkTextSize:16,watermarkTextPadding:4,watermarkTextRotate:0,watermarkTextPositiony:0,watermarkTextPositionx:0,watermarkPreview:null,watermarkPreviewTextScale:null,watermarkPreviewTextWidth:null,watermarkPreviewTextHeight:null,watermarkResult:null,loading:!1}},props:["fileurl"],created:function(){this.genWatermark()},watch:{watermarkTextColor:function(){this.genWatermark()}},methods:{genWatermark:function(){var e=this;this.$nextTick((function(){e.loading=!0;var img=document.querySelector(".watermark-preview img"),t=1;img.naturalWidth&&(t=img.naturalWidth/img.clientWidth,e.watermarkPreviewTextScale=img.clientWidth/img.naturalWidth,e.watermarkPreviewTextWidth=img.naturalWidth,e.watermarkPreviewTextHeight=img.naturalHeight),o()(document.querySelector(".adjust-container .watermark-text pre"),{backgroundColor:null,scale:t,imageTimeout:0}).then((function(canvas){return canvas.toBlob((function(t){e.watermarkPreview=URL.createObjectURL(t),e.genNaturalSizeImg()}))}))}))},genNaturalSizeImg:function(){var e=this;this.$nextTick((function(){var img=document.querySelector(".watermark-preview img"),t=1;img.naturalWidth&&(t=img.naturalWidth/img.clientWidth),o()(document.querySelector(".watermark-preview"),{useCORS:!0,scale:t,imageTimeout:0}).then((function(canvas){return canvas.toBlob((function(t){var r=URL.createObjectURL(t);e.watermarkResult=r,e.$emit("handleDownloadUrl",r),e.loading=!1}))}))}))}}},d=(r(310),r(57)),c=r(86),m=r.n(c),v=r(368),f=r(363),w=r(361),h=r(369),x=r(362),k=r(370),_=r(356),T=r(364),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"adjust-container"},[r("div",{staticClass:"left"},[r("h3",[e._v("預覽")]),e._v(" "),r("div",{staticClass:"watermark-preview",class:{loading:e.loading}},[e.fileurl?r("img",{attrs:{src:e.fileurl}}):e._e(),e._v(" "),r("div",{staticClass:"watermark-text-preview",class:e.watermarkStyle,style:{backgroundImage:"url('"+e.watermarkPreview+"')",height:e.watermarkPreviewTextHeight+"px",width:e.watermarkPreviewTextWidth+"px",transform:"scale("+e.watermarkPreviewTextScale+")",backgroundPosition:e.watermarkTextPositionx+"px "+e.watermarkTextPositiony+"px"}})])]),e._v(" "),r("div",{staticClass:"right"},[r("h3",[e._v("調整")]),e._v(" "),r("div",{staticClass:"watermark-text",class:e.watermarkStyle,style:{color:e.watermarkTextColor,fontSize:e.watermarkTextSize+"px"}},[r("pre",{style:{padding:e.watermarkTextPadding+"px",transform:"rotate("+e.watermarkTextRotate+"deg)"},domProps:{innerHTML:e._s(e.watermarkText)}})]),e._v(" "),r("v-expansion-panels",[r("v-expansion-panel",[r("v-expansion-panel-header",[e._v("文字與樣式")]),e._v(" "),r("v-expansion-panel-content",[r("v-color-picker",{attrs:{"dot-size":"25","hide-canvas":"","hide-inputs":"","hide-mode-switch":"","show-swatches":"","swatches-max-height":"100"},model:{value:e.watermarkTextColor,callback:function(t){e.watermarkTextColor=t},expression:"watermarkTextColor"}}),e._v(" "),r("br"),e._v(" "),r("v-textarea",{attrs:{outlined:"",label:"文字",rows:"2","hide-details":""},on:{change:e.genWatermark},model:{value:e.watermarkText,callback:function(t){e.watermarkText=t},expression:"watermarkText"}}),e._v(" "),r("br"),e._v(" "),r("v-slider",{attrs:{label:"大小","hide-details":"","thumb-label":"",max:"72",min:"1"},on:{change:e.genWatermark},model:{value:e.watermarkTextSize,callback:function(t){e.watermarkTextSize=t},expression:"watermarkTextSize"}})],1)],1),e._v(" "),r("v-expansion-panel",[r("v-expansion-panel-header",[e._v("距離與位置")]),e._v(" "),r("v-expansion-panel-content",[e.watermarkPreviewTextHeight?r("v-slider",{attrs:{label:"垂直位置","hide-details":"","thumb-label":"",max:e.watermarkPreviewTextHeight,min:"0"},on:{change:e.genWatermark},model:{value:e.watermarkTextPositiony,callback:function(t){e.watermarkTextPositiony=t},expression:"watermarkTextPositiony"}}):e._e(),e._v(" "),e.watermarkPreviewTextWidth?r("v-slider",{attrs:{label:"水平位置","hide-details":"","thumb-label":"",max:e.watermarkPreviewTextWidth,min:"0"},on:{change:e.genWatermark},model:{value:e.watermarkTextPositionx,callback:function(t){e.watermarkTextPositionx=t},expression:"watermarkTextPositionx"}}):e._e(),e._v(" "),r("v-slider",{attrs:{label:"間距","hide-details":"","thumb-label":"",max:"20",min:"0"},on:{change:e.genWatermark},model:{value:e.watermarkTextPadding,callback:function(t){e.watermarkTextPadding=t},expression:"watermarkTextPadding"}}),e._v(" "),r("v-slider",{attrs:{label:"旋轉","hide-details":"","thumb-label":"",max:"45",min:"-45"},on:{change:e.genWatermark},model:{value:e.watermarkTextRotate,callback:function(t){e.watermarkTextRotate=t},expression:"watermarkTextRotate"}}),e._v(" "),r("v-checkbox",{attrs:{label:"重複 - 讓浮水印重複出現",value:"repeat","hide-details":""},on:{change:e.genWatermark},model:{value:e.watermarkStyle,callback:function(t){e.watermarkStyle=t},expression:"watermarkStyle"}})],1)],1)],1)],1)])}),[],!1,null,"9d89f5d6",null);t.default=component.exports;m()(component,{VCheckbox:v.a,VColorPicker:f.a,VExpansionPanel:w.a,VExpansionPanelContent:h.a,VExpansionPanelHeader:x.a,VExpansionPanels:k.a,VSlider:_.a,VTextarea:T.a})},366:function(e,t,r){"use strict";r.r(t);var n={data:function(){return{step:0,fileurl:null,downloadurl:null}},methods:{handleFileURL:function(e){this.fileurl=e,this.step=1},handleDownloadUrl:function(e){this.downloadurl=e}}},o=r(57),l=r(86),d=r.n(l),c=r(292),m=r(293),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-row",{attrs:{justify:"center",align:"center"}},[r("v-col",{attrs:{cols:"10",sm:"8",md:"7",lg:"6"}},[r("transition",{attrs:{name:"fade",mode:"out-in"}},[0==e.step?r("div",{key:"import_image"},[r("h1",[e._v("匯入圖片")]),e._v(" "),r("p",[e._v("於此匯入圖片開始製作浮水印吧！")]),e._v(" "),r("file-upload",{on:{handleFileURL:e.handleFileURL}})],1):1==e.step?r("div",{key:"style_adjust"},[r("a",{staticClass:"wr-btn non-bg",staticStyle:{"text-align":"left","margin-bottom":"8px","min-width":"auto"},on:{click:function(t){e.step=0}}},[e._v("⬅返回")]),e._v(" "),r("h1",[e._v("調整樣式")]),e._v(" "),r("p",[e._v("在這裡調整浮水印的樣式")]),e._v(" "),e.fileurl?r("style-adjust",{attrs:{fileurl:e.fileurl},on:{handleDownloadUrl:e.handleDownloadUrl}}):e._e(),e._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("a",{staticClass:"wr-btn",on:{click:function(t){e.step=2}}},[e._v("完成")])])],1):r("div",{key:"finish"},[r("h1",[e._v("完成")]),e._v(" "),r("p",[e._v("\n          圖片產生完成！輕觸底下下載來取得圖片，如果您使用\n          iOS，請長按圖片來下載。\n        ")]),e._v(" "),e.downloadurl?r("img",{attrs:{src:e.downloadurl,width:"100%"}}):e._e(),e._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("a",{staticClass:"wr-btn",attrs:{href:e.downloadurl,download:"浮水印寶寶_"+Date.now()+".png"}},[e._v("下載圖片")]),e._v(" "),r("a",{staticClass:"wr-btn non-bg",on:{click:function(t){e.step=0}}},[e._v("繼續製作")])])])])],1)],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{FileUpload:r(353).default,StyleAdjust:r(354).default}),d()(component,{VCol:c.a,VRow:m.a})}}]);